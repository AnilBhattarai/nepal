(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{dcdb511e7f420fb1cc6b:function(e,t,a){"use strict";a.r(t);var n,r=a("0d939196e59ed73c94e6"),i=a("75f4f94ec1cabb9a43f3"),o=a.n(i),l=a("3aced5b508e7389026da"),d=(a("8a2d1b95e05b6a321e74"),a("8af190b70a6bc55c6f1b")),c=a.n(d),s=a("cd2d64beba0ee6256806"),u=a.n(s),m=a("6d0b3088082c0f598087"),p=a.n(m),b=(a("f85e09def79cc2a20bc2"),a("0d7f0986bcd2f33d8a2a")),f=a("d7dd51e1bf6bfc2c9c3d"),v=a("e95a63b25fb92ed15721"),g=a("ca0c8c9a15f684f9951f"),h=a.n(g),y=a("718cc3fe49024e6debaf"),w=a("ab4cb61bcb2dc161defb"),x=a("a28fc3c963a1d4d1a2e5"),N=a("d95b0cf107403b178365"),k=a("adc20f99e57c573c589c"),_=a("2fad9e66eff5130ad191"),C=a("5932430beb0c05240602"),j=a("d733903be61208652859"),F=a("fcb99a06256635f70435"),O=a("059040756c929fa8b9bb"),R=a("957430808ef51c09e0b0"),S=a("ffd608a78649e44fd51b"),q=a("fbed9202f4fc7aa814a7"),D=a("3c3d4b45c983651375ac"),A=a("c502bee2fd4be3dd7f62"),P=a.n(A),E=a("5c0a236ca4c0b26f32cd"),T=a.n(E),I=a("26682d5d4df1c4fdd619"),U=a.n(I);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach(function(t){W(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function L(e,t,a,r){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var l=new Array(o),d=0;d<o;d++)l[d]=arguments[d+3];t.children=l}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var $=L("span",{className:"hover:shadow-lg ease-in-out cursor-move"},void 0,L(FaArrowsAlt,{className:"text-2xl"})),H=Object(y.c)(function(){return $}),J=Object(y.b)(function(e){return L("div",{className:"w-full"},void 0," ",e.value)}),V=L("div",{className:"w-10 text-center my-auto border-r text-gray-700"},void 0,L(H,{})),G=L(FaTrash,{className:"tbltrash text-xs text-red-400 hover:text-red-500"}),Q=Object(y.a)(function(e){var t=e.items,a=e.handleRequirementChange,n=e.removeRequirement,r=e.handleRequirementEndDate,i=e.handleRequirementStartDate,o=e.handleSetImage;return L("div",{className:""},void 0,t.map(function(e,t){return L(J,{index:t,value:L("div",{className:"mb-1 bg-white p-2 border rounded"},e.image&&e.image._id,L("div",{className:"flex justify-between items-center"},void 0,V,L("div",{className:"overflow-hidden mr-2"},void 0,e&&e.image?L("img",{className:"w-24 object-contain",src:"string"===typeof e.image?"":"".concat(F.g).concat(e.image.path),onClick:function(){return o(t)}}):L("button",{type:"button",className:"p-2 font-bold rounded border border-gray-500 border-dashed text-center hover:border-primary hover:text-primary",onClick:function(){return o(t)}},void 0,"Click To Set Image")),L("div",{className:"w-56 mr-2"},void 0,L("input",{className:"inputbox",type:"text",value:e.link||"",placeholder:"Link",onChange:a("link",t),style:{background:"#FFF",height:"100%"}})),L("div",{className:"w-40 mr-2"},void 0,L(p.a,{className:"inputbox",placeholderText:"Start date",selected:""!==e.start_date&&null!==e.start_date?new Date(e.start_date):"",onChange:i(t),isClearable:!0})),L("div",{className:"w-40 mr-2"},void 0,L(p.a,{className:"inputbox z-50",placeholderText:"End date",minDate:""!==e.start_date&&null!==e.start_date?new Date(e.start_date):"",selected:""!==e.end_date&&null!==e.end_date?new Date(e.end_date):"",onChange:r(t),isClearable:!0})),L("div",{className:"flex-1 mr-2"},void 0,L("textarea",{className:"inputbox",type:"text",value:e.caption||"",placeholder:"Caption",onChange:a("caption",t),style:{background:"#FFF",height:"100%"}})),L("div",{},void 0,L("button",{type:"button",className:"w-6 inline-flex justify-center items-center leading-none cursor-pointer relative",onClick:function(){return n(t)}},void 0,G))))},t)}))}),X=L(_.a,{}),Y=L(r.DialogTitle,{},void 0,"Select Media"),Z=L("div",{className:"mt-2 text-xs"},void 0,"Note: Please Double Click to open folder and select images."),ee=L(U.a,{}),te=L("label",{className:"font-bold text-gray-700",htmlFor:"grid-title"},void 0,"Title"),ae=L("label",{className:"font-bold text-gray-700",htmlFor:"grid-title"},void 0,"Key"),ne=L("label",{className:"font-bold text-gray-700",htmlFor:"grid-title"},void 0,"Start Date"),re=L("label",{className:"font-bold text-gray-700",htmlFor:"grid-title"},void 0,"End Date"),ie=Object(N.a)({key:"popUpSettings",reducer:S.a}),oe=Object(k.a)({key:"popUpSettings",saga:q.a}),le=Object(x.b)({one:Object(D.e)(),loading:Object(D.d)(),errors:Object(D.c)()}),de=Object(f.connect)(le,B(B({},R),{},{push:l.push})),ce={backbtn:{padding:0,height:"40px",width:"40px",marginTop:"auto",marginBottom:"auto",borderRadius:"50%",marginRight:"5px"},option:function(e,t){return B(B({},e),{},{background:t.isFocused||t.isSelected?"#5897FB":"white",color:t.isFocused||t.isSelected?"white":"black",fontweight:"normal",display:"block",whitespace:"pre",minheight:"1.2em",padding:"0px 2px 1px"})},menu:function(e){return B(B({},e),{},{margin:0})},placeholder:function(e){return B(B({},e),{},{color:"#000000"})},menuList:function(){return{background:"#FFFFFF",border:"1px solid #5897FB"}},control:function(){return{display:"flex",justifyContent:"space-between",border:"1px solid #dfdfdf",borderRadius:"4px",height:"36px",background:"#FFFFFF"}},valueContainer:function(){return{padding:"3px 6px"}},indicatorSeparator:function(){return{background:"transparent"}},container:function(e){return B(B({},e),{},{width:"100%"})}};t.default=Object(w.compose)(v.withRouter,ie,oe,de)(function(e){var t=e.clearErrors,a=e.loadOneRequest,n=e.match,i=e.one,l=(e.classes,e.loading),s=e.errors,m=e.setOneValue,f=e.addEditRequest,v=e.push,g=e.setSingleRequirement,y=e.setSingleValue,w=e.setChosenIndex,x=e.addFromMedia,N=e.addRequirement,k=e.removeRequirement;Object(d.useEffect)(function(){t(),n.params&&n.params.id&&a(n.params.id)},[]);var _=z(Object(d.useState)(!1),2),R=_[0],S=_[1];Object(d.useEffect)(function(){window.location.pathname.includes("advertisement")&&S(!0)},[window.location.pathname]);var q,D=z(Object(d.useState)(!1),2),A=(D[0],D[1],z(Object(d.useState)({images:{imageProduct:""},openMedia:!1,fullWidth:!0,maxWidth:"lg"}),2)),E=A[0],I=A[1],U=(E.images,E.open,E.fullWidth,E.maxWidth,function(e){I({openMedia:!0}),w(e)}),M=function(e){return function(t){t.persist(),m({key:e,value:t.target.value})}},K=function(e,t){return function(a){var n=a.target.value;y({index:t,name:e,value:n})}},$=function(e){return function(t){null===t&&(t=""),y({name:"start_date",value:t,index:e})}},H=function(e){return function(t){null===t&&(t=""),y({name:"end_date",value:t,index:e})}},J={},V=[{label:"Select",value:""},{label:"Single Image",value:"single_image"},{label:"Use slider",value:"use_slider"},{label:"Show image one by one",value:"show_img_one_by_one"},{label:"Use CKeditor",value:"ck_editor"}].map(function(e){var t={label:e.label,value:e.value};return J=B(B({},J),{},W({},e.value,t)),t});return l?X:c.a.createElement(c.a.Fragment,null,L(r.Dialog,{className:" w-full h-full overflow-auto ",open:E.openMedia,onClose:function(){I({openMedia:!1})}},void 0,Y,L(r.DialogContent,{},void 0,L("div",{},void 0,L(O.a,{location:location,selectFile:function(e){return function(e){x(e),I({openMedia:!1})}(e)}}),Z))),L("div",{className:"flex justify-between mt-3 mb-3"},void 0,L(j.a,{},void 0,L(r.IconButton,{className:" cursor-pointer",onClick:function(){v(R?"/admin/advertisement":"/admin/popup-setting")},"aria-label":"Back"},void 0,ee),n&&n.params&&n.params.id?"Edit ".concat(R?"Advertisement":"Popup"," "):"Add ".concat(R?"Advertisement":"Popup"))),L(b.Helmet,{},void 0,L("title",{},void 0,n&&n.params&&n.params.id?"Edit ".concat(R?"Advertisement":"Popup"," "):"Add ".concat(R?"Advertisement":"Popup"))),L(C.a,{},void 0,L("div",{className:"bg-white p-4 border"},void 0,L("div",{className:"w-full md:w-1/2 pb-4"},void 0,te,L("input",{label:"".concat(R?"Advertisement":"Popup"," Title"),className:"inputbox",inputid:"slider-name",type:"text",value:i.title,name:"title",onChange:M("title"),error:s.title})),L("div",{className:"w-full md:w-1/2 pb-4"},void 0,ae,L("input",{label:"".concat(R?"Advertisement":"Popup"," Key"),className:"inputbox",inputid:"key",type:"text",value:i.key,name:"key",onChange:M("key"),error:s.key})),L("div",{className:"w-full md:w-1/2 pb-4"},void 0,L("label",{className:"font-bold text-gray-700"},void 0,"Select ",R?"Advertisement":"Popup"," Templates"),L(h.a,{styles:ce,value:J[i.template],onChange:(q="template",function(e){g(),m({key:q,value:e.value})}),options:V})),L("div",{className:"w-full pb-4"},void 0,"single_image"===i.template&&L("div",{className:"mb-2 bg-white p-2 border rounded"},void 0,L("div",{className:"flex justify-between items-center mb-2"},void 0,L("div",{className:"overflow-hidden mr-2"},void 0,i.templateRequirement[0].image?L("img",{className:"w-24 object-contain",src:"string"===typeof i.templateRequirement[0].image?"".concat(F.g).concat(E.files[i.templateRequirement[0].image].path):"".concat(F.g).concat(i.templateRequirement[0].image.path),onClick:function(){return U(0)}}):L("button",{type:"button",className:"p-2 font-bold rounded border border-gray-500 border-dashed text-center hover:border-primary hover:text-primary",onClick:function(){return U(0)}},void 0,"Click To Set Image")),L("div",{className:"w-56 mr-2"},void 0,L("input",{className:"inputbox",type:"text",value:i.templateRequirement[0].link||"",placeholder:"Link",onChange:K("link",0),style:{background:"#FFF",height:"100%"}})),L("div",{className:"w-40 mr-2"},void 0,L(p.a,{className:"inputbox",placeholderText:"Start date",selected:""!==i.templateRequirement[0].start_date&&null!==i.templateRequirement[0].start_date?new Date(i.templateRequirement[0].start_date):"",onChange:$(0),isClearable:!0})),L("div",{className:"w-40 mr-2"},void 0,L(p.a,{className:"inputbox z-50",placeholderText:"End date",minDate:""!==i.templateRequirement[0].start_date&&null!==i.templateRequirement[0].start_date?new Date(i.templateRequirement[0].start_date):"",selected:""!==i.templateRequirement[0].end_date&&null!==i.templateRequirement[0].end_date?new Date(i.templateRequirement[0].end_date):"",onChange:H(0),isClearable:!0})),L("div",{className:"flex-1"},void 0,L("textarea",{className:"inputbox",type:"text",value:i.templateRequirement[0].caption||"",placeholder:"Caption",onChange:K("caption",0),style:{background:"#FFF",height:"100%"}})))),"ck_editor"===i.template&&L("div",{className:"mb-2 bg-white p-2 border rounded"},void 0,L(u.a,{name:"description",content:i.templateRequirement[0].description,scriptUrl:"https://cdn.ckeditor.com/4.6.2/full/ckeditor.js",config:{allowedContent:!0,image_previewText:" ",filebrowserBrowseUrl:"/editor-file-select",filebrowserUploadUrl:"/api/media/multiple"},events:{change:function(e){return function(e,t){var a=e.editor.getData();y({name:t,value:a,index:0})}(e,"description")},value:i.templateRequirement[0].description}})),("show_img_one_by_one"===i.template||"use_slider"===i.template)&&c.a.createElement(c.a.Fragment,null,L("div",{className:"pb-4"},void 0,L("button",{type:"button",className:"btn btn-waft btn-green",onClick:N},void 0,"Add Slide")),L(Q,{axis:"xy",items:i.templateRequirement,onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex,n=o()(i.templateRequirement,t,a);m({key:"templateRequirement",value:n})},useDragHandle:!0,removeRequirement:k,handleRequirementChange:K,handleRequirementStartDate:$,handleRequirementEndDate:H,handleSetImage:U}))),L("div",{className:"flex w-full md:w-1/2 justify-between px-1"},void 0,L("div",{className:"md:w-1/2 pb-4 -ml-1"},void 0,ne,L(p.a,{className:"inputbox",placeholderText:"Click to select a date",selected:""!==i.start_date&&null!==i.start_date?new Date(i.start_date):"",onChange:function(e){null===e&&(e=""),m({key:"start_date",value:e})},isClearable:!0})),L("div",{className:"md:w-1/2 pb-4 -mr-1"},void 0,re,L(p.a,{className:"inputbox z-50",placeholderText:"Click to select a date",minDate:""!==i.start_date&&null!==i.start_date?new Date(i.start_date):"",selected:""!==i.end_date&&null!==i.end_date?new Date(i.end_date):"",onChange:function(e){null===e&&(e=""),m({key:"end_date",value:e})},isClearable:!0}))),L(T.a,{control:L(P.a,{checked:i.is_active||!1,onClick:function(e){return function(t){t.persist(),m({key:e,value:t.target.checked})}}("is_active"),value:"is_active",color:"primary"}),label:"Is Active"}),L("button",{type:"button",className:"btn btn-waft",onClick:function(){f({isAd:R})}},void 0,"Save"))))})}}]);